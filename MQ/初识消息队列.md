# 初识消息队列

----

## What is it ？


## What's the usage?

#### 异步

#### 削峰、填谷

#### 解耦

## What's the trouble

#### 系统复杂性

- 重复消费
- 消息丢失
- 顺序消费

#### 数据一致性

- 分布式事务

#### 可用性



## Brothers and sisters

#### Kafka
#### ActiveMQ
#### RabbitMQ
#### RocketMQ
#### NSQ

- 对比（20200630 总结）

| 特性 | ActiveMQ | RabbitMQ | RocketMQ | Kafka |
| ---- | ---- | ---- | ---- | ---- |
| ***单机吞吐量*** | 万级 | 万级 | 10万级 | 10万级，高吞吐，一般配合大数据系统进行实时计算、日志采集等 |
| ***TOPIC数量对吞吐量的影响*** |  |  | TOPIC可达几百/几千，吞吐量会有小幅度下降 ***优势*** | TOPIC从几十到几百的时候，吞吐量大幅下降，同等机器下，尽量保证TOPIC不要太多，否则多机部署解决 |
| ***时效性*** | 毫秒级 | 微秒级，***延迟最低*** | 毫秒级 | 毫秒级，延迟在毫秒以内 |
| ***可用性*** | 高，主从架构 | 高，主从架构 | 非常高，分布式架构 | 非常高，分布式，一个数据多个副本，少数机器宕机，不会丢失数据，不会导致不可用 |
| ***消息可靠性*** | 低概率数据丢失 | 基本不丢 | 经过参数优化配置，可0丢失 | 经过参数优化配置，可0丢失 |
| ***功能支持*** | MQ领域功能**及其**完备 | 基于erlang开发，并发强、性能好、延迟低 | MQ领域功能较为完善，分布式，扩展性好 | 功能较为简单 |
| ***社区活跃度*** | 低 | 中 | 高 | 高 |
